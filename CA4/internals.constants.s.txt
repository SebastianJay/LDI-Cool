### this file is a reference for built-in stuff generated by asmgen.py
### make sure the initial mappings are consistent with what is here

##built in strings
#classnames
.globl name_Object
name_Object:
	.string "Object"
.globl name_Int
name_Int:
	.string "Int"
.globl name_Bool
name_Bool:
	.string "Bool"
.globl name_IO
name_IO:
	.string	"IO"
.globl name_String
name_String:
	.string	"String"
#other strings
.globl empty_string
empty_string:
	.string ""
.globl abort_string
abort_string:
	.string	"abort\n"
.globl substrerr_string
substrerr_string:
	.string "ERROR: %lld: Exception: String index out of bounds"
.globl percentd_string
percentd_string:
	.string "%d"
.globl percentlld_string
percentlld_string:
	.string "%lld"
.globl percents_string
percents_string:
	.string "%s"

##built in virtual method tables
.globl Object_vtable
Object_vtable:
	.quad	name_Object	# A pointer to class name string
	.quad	Object.new
	.quad	Object.abort
	.quad	Object.copy
	.quad	Object.type_name
.globl Int_vtable
Int_vtable:
	.quad	name_Int
	.quad	Int.new
	.quad	Object.abort
	.quad	Object.copy
	.quad	Object.type_name
.globl Bool_vtable
Bool_vtable:
	.quad	name_Bool
	.quad	Bool.new
	.quad	Object.abort
	.quad	Object.copy
	.quad	Object.type_name
.globl String_vtable
String_vtable:
	.quad	name_String
	.quad	String.new
	.quad	Object.abort
	.quad	Object.copy
	.quad	Object.type_name
	.quad 	String.concat
	.quad	String.length
	.quad	String.substr
.globl IO_vtable
IO_vtable:
	.quad	name_IO
	.quad	IO.new
	.quad	Object.abort
	.quad	Object.copy
	.quad	Object.type_name
	.quad	IO.in_int
	.quad	IO.in_string
	.quad	IO.out_int
	.quad	IO.out_string

##entry point of application
## put this in internals.s.txt
.globl	main
.type	main, @function
main:
	call Main.new
	pushq %rax	#self param
	call Main.main
	addq $8, %rsp
	ret
